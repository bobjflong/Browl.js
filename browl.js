// Generated by CoffeeScript 1.6.3
(function() {
  var browl, browl_timeout, create_browl_styles, show_browls, update_browls;

  browl_timeout = 1000;

  update_browls = function() {
    var browl, browls, new_timeout, original_timeout, timeout, timeout_attr, _i, _len;
    browls = document.getElementsByClassName('browl');
    for (_i = 0, _len = browls.length; _i < _len; _i++) {
      browl = browls[_i];
      original_timeout = browl.getAttribute('data-originaltimeout');
      if (original_timeout == null) {
        browl.setAttribute('data-originaltimeout', browl.getAttribute('data-timeout'));
      } else {
        timeout_attr = browl.getAttribute('data-timeout');
        timeout = parseInt(timeout_attr);
        if (timeout <= 0) {
          browl.classList.add('finished');
          setTimeout(function() {
            return browl.parentNode.removeChild(browl);
          }, 5000);
        } else {
          new_timeout = timeout - 1;
          browl.setAttribute('data-timeout', new_timeout);
        }
      }
    }
    return setTimeout(update_browls, browl_timeout);
  };

  show_browls = function() {
    var browl, browls, timeout, timeout_attr, _i, _len, _results;
    browls = document.getElementsByClassName('browl');
    _results = [];
    for (_i = 0, _len = browls.length; _i < _len; _i++) {
      browl = browls[_i];
      if (browl.className.indexOf('shown' !== -1)) {
        timeout_attr = browl.getAttribute('data-timeout');
        timeout = parseInt(timeout_attr);
        if (timeout > 0) {
          _results.push(browl.classList.add('shown'));
        } else {
          _results.push(void 0);
        }
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  create_browl_styles = function() {
    var browl_css, browl_style;
    browl_css = ".browl {\n  position: absolute;\n  right: 0px;\n  top:10px;\n  margin: 40px;\n  min-width: 200px;\n  height:20px;\n  padding: 20px;\n  \n  border-radius: 10px;\n  -moz-border-radius: 10px;\n  -webkit-border-radius: 10px;\n  \n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(top, #ffffff 0%, #f1f1f1 50%, #e1e1e1 51%, #f6f6f6 100%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(50%,#f1f1f1), color-stop(51%,#e1e1e1), color-stop(100%,#f6f6f6)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top, #ffffff 0%,#f1f1f1 50%,#e1e1e1 51%,#f6f6f6 100%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top, #ffffff 0%,#f1f1f1 50%,#e1e1e1 51%,#f6f6f6 100%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #ffffff 0%,#f1f1f1 50%,#e1e1e1 51%,#f6f6f6 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #ffffff 0%,#f1f1f1 50%,#e1e1e1 51%,#f6f6f6 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#f6f6f6',GradientType=0 ); /* IE6-9 */\n  border:1px solid #f0f0f0;\n  \n  -webkit-box-shadow: 0px 3px 6px rgba(50, 50, 50, 0.3);\n  -moz-box-shadow:    0px 3px 6px rgba(50, 50, 50, 0.3);\n  box-shadow:         0px 3px 6px rgba(50, 50, 50, 0.3);\n  \n  font-family:Sans-Serif;\n  color:#505050;\n  font-size:13px;\n  \n}\n\n.browl {\n  -moz-animation-duration: 1s;\n  -webkit-animation-duration: 1s;\n  -moz-animation-name: slidein;\n  -webkit-animation-name: slidein;\n}\n\n@-moz-keyframes slidein {\n  from {\n    opacity:0;\n    top:-50;\n  }\n  \n  to {\n    opacity:1;\n    top:10px;\n  }\n}\n\n@-webkit-keyframes slidein {\n  from {\n    opacity:0;\n    top:-50;\n  }\n  \n  to {\n    opacity:1;\n    top:10px;\n  }\n}\n\n.finished {\n  -moz-animation-duration: 1s;\n  -webkit-animation-duration: 1s;\n  -moz-animation-name: slideout;\n  -webkit-animation-name: slideout;\n  opacity:0;\n}\n\n@-moz-keyframes slideout {\n  from {\n    opacity:1;\n    top:10;\n  }\n  \n  to {\n    opacity:0;\n    top:70px;\n    display:none;\n  }\n}\n\n@-webkit-keyframes slideout {\n  from {\n    opacity:1;\n    top:10;\n  }\n  \n  to {\n    opacity:0;\n    display:none;\n    top:70px;\n  }\n}";
    browl_style = document.createElement('style');
    browl_style.innerHTML = browl_css;
    return document.body.appendChild(browl_style);
  };

  browl = function() {
    create_browl_styles();
    show_browls();
    return setTimeout(update_browls, browl_timeout);
  };

  browl();

}).call(this);
